#!/bin/sh

# Get current branch
current_branch=$(git branch --show-current)

# Check if pushing to main
if [ "$current_branch" = "main" ]; then
  echo ""
  echo "⚠️  WARNING: You are about to push to the main branch!"
  echo ""
  printf "Type 'code' to confirm: "
  
  # Read from terminal
  exec < /dev/tty
  read answer
  
  if [ "$answer" != "2323" ]; then
    echo ""
    echo "❌ Push cancelled."
    exit 1
  fi
  
  echo ""
  echo "✅ Proceeding with push to main..."
fi

exit 0

